stat:
  total_checked_queries: 23
  total_ok: 15
  ok_percent: 65.21739130434783
issues:
  - name: general parsing errors
    issue_regexp:
      - "Error while parsing query."
    skip: true
  - name: Select from pg_tables
    query_regexp:
      - (?is)SELECT.*FROM\s+pg_
  - name: Transaction control (OK)
    count: 1
    query_regexp:
      - "(?i)^\\s*COMMIT\\s*;?\\s*$"
      - "(?i)^\\s*ROLLBACK\\s*;?\\s*$"
  - name: Set variables
    issue_regexp: "VariableSetStmt, not supported name"
  - name: drop external table
    count: 2
    tag:
      - greenplum
    issue_regexp:
      - 'ERROR:  syntax error at or near "external"'
    query_regexp:
      - drop external table
  - name: Create table as
    count: 2
    tag:
      - YQLParser
    issue_regexp:
      - '^RawStmt: alternative is not implemented yet : 277$'
    example: create table t as select 1
  - name: Distributed randomly
    count: 2
    tag:
      - greenplum
    issue_regexp:
      - 'ERROR:  syntax error at or near "RANDOMLY"'
      - 'ERROR:  syntax error at or near "DISTRIBUTED"'
    query_regexp:
      - (?i)DISTRIBUTED\s+RANDOMLY
  - name: Stored procedures
    count: 2
    issue_regexp:
      - 'No such proc: '
  - name: Not supported set greenplum var
    count: 1
    issue_regexp:
      - 'VariableSetStmt, not supported name: gp_'
    query_regexp:
      - ^SET gp_
  - name: Partial request
    count: 1
    skip: true
    issue_regexp:
      - 'ERROR:  syntax error at end of input'
  - name: 'YQL: Expected type cast node as is_local arg, but got node with tag'
    count: 0
    issue_regexp:
      - Expected type cast node as is_local arg, but got node with tag
  - name: 'PG: InsertStmt: not supported onConflictClause'
    count: 0
    issue_regexp:
      - 'InsertStmt: not supported onConflictClause'
  - name: 'PG: RangeFunction: unsupported coldeflist'
    count: 0
    issue_regexp:
      - 'RangeFunction: unsupported coldeflist'
  - name: 'PG: Support NOT DISTINCT'
    count: 0
    issue_regexp:
      - 'A_Expr_Kind unsupported value: 4'
  - name: 'PG: unrecognized configuration parameter'
    count: 0
    issue_regexp:
      - unrecognized configuration parameter
  - name: Call function from own schema
    count: 0
    issue_regexp:
      - 'FuncCall: expected pg_catalog, but got: '
  - name: Generator functions in SELECT
    count: 0
    issue_regexp:
      - '^Generator functions are not allowed in: SELECT$'
    example: SELECT UNNEST($1)
  - name: Unimplemented Discard
    count: 0
    issue_regexp:
      - '^RawStmt: alternative is not implemented yet : 282$'
    example: DISCARD ALL
  - name: ANALYZE
    issue_regexp: "RawStmt: alternative is not implemented yet : 276"
    example: ANALYZE lc;
  - name: RESET var
    issue_regexp: "^VariableSetStmt, not supported kind: 4$"
    query_regexp: RESET ROLE
  - name: SELECT setconfig as
    issue_regexp: "^Expected AConst node as is_local arg, but got node with tag: 357$"
    example: SELECT set_config($1, $2, $3) as myvar
  - name: Lock table
    issue_regexp: "^RawStmt: alternative is not implemented yet : 289$"
    example: LOCK TABLE asd IN EXCLUSIVE MODE
  - name: table not found
    issue_regexp: Cannot find table
    print_issue_to_log: True
